<!-- ðŸŒŸ Enhanced Toast Notification - Bottom Right Below Navbar -->
<div class="fixed top-[90px] right-4 z-[100] w-full max-w-sm flex flex-col items-end space-y-4">
  <div
    *ngIf="message?.text"
    [ngClass]="{
      'bg-indigo-600 text-white dark:bg-indigo-700 dark:text-white border border-indigo-500 shadow-xl':
        message?.type === 'success',
      'bg-red-600 text-white dark:bg-red-700 dark:text-white border border-red-500 shadow-xl':
        message?.type === 'error'
    }"
    class="rounded-xl px-5 py-4 text-sm font-medium transition ease-in-out duration-300 animate-fade-slide-in"
    role="alert"
    aria-live="assertive"
  >
    <div class="flex items-start justify-between gap-3">
      <!-- Icon -->
      <div class="pt-1">
        <ng-container *ngIf="message?.type === 'success'">
          <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2"
               viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/>
          </svg>
        </ng-container>
        <ng-container *ngIf="message?.type === 'error'">
          <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2"
               viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round"
                  d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </ng-container>
      </div>

      <!-- Message -->
      <span class="flex-1 leading-relaxed">{{ message?.text }}</span>

      <!-- Close Button -->
      <button
        class="text-white/80 hover:text-white focus:outline-none focus:ring-2 focus:ring-white/70 rounded transition"
        (click)="message = null"
        aria-label="Close notification"
      >
        &times;
      </button>
    </div>
  </div>
</div>

<app-navbar [isDarkMode]="isDarkMode" [isLoggedIn]="isLoggedIn" [isAdmin]="isAdmin"></app-navbar>
<app-chatbot></app-chatbot>

<!-- Main Content Wrapper -->
<main class="min-h-screen pt-[88px] transition-colors duration-300">
  <router-outlet></router-outlet>
</main>

<app-footer [isDarkMode]="isDarkMode"></app-footer>